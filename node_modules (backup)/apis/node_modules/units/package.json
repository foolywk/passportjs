{
  "name": "units",
  "version": "0.0.1",
  "description": "Module-like system with two step initialization",
  "keywords": [
    "module",
    "init"
  ],
  "author": {
    "name": "Dmitry Smolin",
    "email": "dimsmol@gmail.com"
  },
  "preferGlobal": false,
  "private": false,
  "engines": {
    "node": ">=0.8.0"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/dimsmol/units"
  },
  "directories": {
    "lib": "./lib"
  },
  "main": "./lib/index",
  "readme": "# units\n\nModule-like system with two step initialization.\n\nUnits provides an ability to add number of component instances to a set and then call init function on each of them with guarantee that all other components are instantiated.\n\nCan also be used on client side using [browserify](https://github.com/substack/node-browserify) or similar tool.\n\n## Example\n\n```js\nvar units = new UnitSet();\n\nvar LogicA = function () {\n};\n\nLogicA.prototype.unitInit = function (units) {\n\t// all units are instantiated at this point\n\t// getting components we're depended on\n\tthis.db = units.require('db');\n\tthis.logicB = units.require('logic.b');\n};\n\nunits.add('db', new Db(someDbArgs));\nunits.add('settings', new Settings('/path/to/project/root/or/something'));\nunits.add('logic.a', new LogicA());\nunits.add('logic.b', new LogicB());\nunits.add('facade', new Facade());\n\nunits.init(); // calls unitInit() function of every unit internally\n```\n\n## Parent units\n\nUnitSet can be added to other UnitSet which will be it's parent. On getting keys, lookup will be performed locally first, then on parent UnitSet. All child units will be added directly to parent and inited by parent as well.\n\n```js\nvar units = new UnitSet();\n\nunits.add('db', new Db());\n\nvar childUnits = new UnitSet();\nchildUnits.add('logic.a', new LogicA());\nchildUnits.add('logic.b', new LogicB());\n\nunits.addSet(childUnits);\n\nchildUnits.get('db'); // will try to find 'db' in childUnits, then in units\n```\n\n## UnitSet methods\n\n* alias(key, dstKey) - sets alias for key: dstKey will be obtained instead of key on get() and require() calls\n* add(key, unit) - adds unit under key specified\n* expose(key, obj) - like add(key, obj), but unitInit() will not be called on this unit (so, unit may omit unitInit() implementation), used to expose constant or any object without unitInit() method as a unit\n* addInitRequired(key, unit) - like add(key, obj), but will ensure that unitInit() is called on that unit when it's being got by get() or require(), for units that are unusable unless inited\n* addSet(key, units) - makes units child UnitSet, adds all child units to itself under key specified\n\t* units has a unit with key '~', it will be added directly under key specified, instead of key+'.~'\n* joinSet(units) - add all units of UnitSet specified to self, without any extra magic\n* get(key) - gets unit under key specified, tries parent if no unit found and parent is present, takes into account aliases\n* require(key) - calls get() internally and returns result if not null, otherwise throws an error\n* init() - calls unitInit() method on all added units except added with opt_skipInit=true\n\n## Unit\n\nUnit class is actually an interface.\nYou can inherit it to make obvious that your subclass is Unit.\nBut you can also just implement unitInit() without inheriting Unit.\n\n## License\n\nMIT\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/dimsmol/units/issues"
  },
  "_id": "units@0.0.1",
  "dist": {
    "shasum": "9b7965fe5591f1fab43325014a11f340458a5689"
  },
  "_from": "units@~0.0.1",
  "_resolved": "https://registry.npmjs.org/units/-/units-0.0.1.tgz"
}
